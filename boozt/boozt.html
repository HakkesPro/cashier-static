<!DOCTYPE html>
  <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Cashier</title>
        <script type=text/javascript src='https://static.paymentiq.io/cashier/cashier.js'></script>
        <style>
          html, body {
            margin: 0px;
            overflow: hidden;
            background: #f1f1f1;
            font-family: "Source Sans Pro",arial,helvetica,sans-serif;
            display: flex;
            justify-content: center;
          }
          #cashier {
            /* height: 100vh; */
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
          }
          #app-container {
            margin: 5px;
            display: inline-block;
            background: #ffffff;
            padding: 15px;
            width: 800px;
          }
          h3 span {
            padding: 5px 10px;
            background: #4c4c4c;
            color: white;
            border-radius: 50%;
            margin-right: 10px;
          }
          .hr {
            border-bottom: 1px solid #dbdbdb
          }
        </style>
    </head>
    <body>
    <div id="app-container">
        <h3>
          <span>2</span>
          Snabbkassa
      </h3>
        <div class="hr"></div>
        <div id='cashier'></div>
    </div>

    <script>

    const theme = {
      "input": {
			"color": "#424242"
      },
      "headings": {
        "color": "#4c4c4c"
      },
      "loader": {
        "color": "#4c4c4c"
      },
      "buttons": {
        "color": "#27c769"
      }
    }

    const config = {
      merchantId: 1015,
      userId: 'PayTestSE',
      sessionId: 123,
      environment: 'test',
      listType: 'grid',
      showAccounts: false,
      containerWidth: '600px',
      mode: 'ecommerce',
      amount: 500,
      showTermsConditions: true,
      theme: {
        ...theme
      }
    }

    const lookupConfig = {
      source: 'mock',
      country: 'sweden', // 'denmark' or 'sweden'
      identifyFields: ['email', 'zip']
    }

    var CashierInstance = new _PaymentIQCashier('#cashier', {
      ...config,
      lookupConfig: {
        ...lookupConfig
      }
    }, (api) => {    
        api.on({
          cashierInitLoad: () => console.log('Cashier init load'),
          update: data => console.log('The passed in data was set', data),
          success: data => console.log('Transaction was completed successfully', data),
          failure: data => console.log('Transaction failed', data),
          isLoading: data => console.log('Data is loading', data),
          doneLoading: data => console.log('Data has been successfully downloaded', data),
          newProviderWindow: data => console.log('A new window / iframe has opened', data),
          paymentMethodSelect: data => console.log('Payment method was selected', data),
          paymentMethodPageEntered: data => console.log('New payment method page was opened', data),
          navigate: data => console.log('Path navigation triggered', data)
        })
        api.set({
          config: {
            amount: 10
          }          
        })
        api.css()
      }
    )
  </script>
  </body>
</html>